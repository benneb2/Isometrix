<card id="example" fill="true" flip="rl">

<face id="exampleFront" settings="default:true" controller="_example.Ctrl">
    <ctl>WELCOME!</ctl>
    <ctr class="gui-extra" flip-target="exampleHelp">&#xf059;</ctr>
    <content>


              <placeholder ng-show="data.length == 0"> No Data</placeholder>

              <ul>
                 <li ng-repeat="dat in data">

              <formElement title="Person" desc="">
                 <input type="text" filter="alphanumeric" ng-model="dat.name" />
                 <input type="text" filter="alphanumeric" ng-model="dat.surname" />
                  Married : {{dat.married}}

              </formElement>
                  </li>
                </ul>






    </content>
    <cbl></cbl>
    <cbr><x onclick="_example.saveData()">SAVE</x></cbr>

</face>


<face id="exampleHelp" face="back">

    <ctl>HELP</ctl>
    <ctr class="gui" flip-target="close">x</ctr>
    <content>

        <placeholder>
              This is a help section - and provides the user with information relevant to the current you are on.
        </placeholder>


    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>

</card>
<card id="help" fill="true" flip="rl">

<face id="helpFront" settings="default:true" controller="_help.Ctrl">
    <ctl>Help</ctl>
    <ctr></ctr>
    <content>
      <ul>
        <li class="cardListElement">
          <table>
            <tr>
              <td class="txtTitle" flip-target="topic1">Help Topic 1<br /><x class="cardListElementSubText">The first topic in the help.</x></td>
            </tr>
          </table>
        </li>
        <li class="cardListElement">
          <table>
            <tr>
              <td class="txtTitle" flip-target="topic2">Help Topic 2<br /><x class="cardListElementSubText">The second topic in the help.</x></td>
            </tr>
          </table>
        </li>
      </ul>
    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>


<face id="topic1" face="back">

    <ctl>Help Topic 1</ctl>
    <ctr class="gui" flip-target="close">x</ctr>
    <content>

        <placeholder>
              This is help section one - and provides the user with information relevant to the first help topic.
        </placeholder>


    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>

<face id="topic2" face="back">

    <ctl>Help Topic 2</ctl>
    <ctr class="gui" flip-target="close">x</ctr>
    <content>

        <placeholder>
              This is help section two - and provides the user with information relevant to the second help topic.
        </placeholder>


    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>

</card>
<card id="incidentCapture" fill="true" flip="rl">

<face id="incidentCaptureFront" settings="default:true" controller="_incidentCapture.Ctrl">
  <ctl>Adding an Incident record</ctl>
  <ctr></ctr>
  <content>
    <table>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep1',false)">Step 1</td></tr>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep2',false)">Step 2</td></tr>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep3',false)">Step 3</td></tr>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep4',false)">Step 4</td></tr>
  </table>
  <content>
    <cbl></cbl>
    <cbr>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf0ed;</x>
      <x onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Save Incident</x>
    </cbr>
</face>

<face id="incidentCaptureBack" >
  <ctl>BACK</ctl>
  <ctr></ctr>
  <content>
    <table>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep1',false)">Step 1</td></tr>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep2',false)">Step 2</td></tr>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep3',false)">Step 3</td></tr>
    <tr><td class="cardFormElementTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep4',false)">Step 4</td></tr>
  </table>
  <content>
    <cbl></cbl>
    <cbr>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf0ed;</x>
      <x onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Save Incident</x>
    </cbr>
</face>



  <face id="incidentCaptureStep1" controller="_incidentCapture.Ctrl1">
    <ctl>Adding an Incident record - 1/4</ctl>
    <ctr></ctr>
    <content>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident description</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
		              <input type="Text" ng-model="common.text" />
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident status</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
                  <select ng-model="model.incidentStatusSelect" ng-options="status.SourceList for status in model.incidentStatus" ></select>
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Date incident occurred</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
		              <input type="date" ng-model="other.date"  />
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Time incident occurred</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
            <li class="cardListElement">
             <table>
              <tr>
                <td align="right">
                  <input type="time" ng-model="other.time" />
                </td>
              </tr>
             </table>
            </li>
           </ul>
              </div>
             </td>
           </tr>
      </table><br/>
    </content>
    <cbl>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf053;</x>
      <x class="txtTitle" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Back</x>
    </cbl>
    <cbr onClick="_incidentCapture.save(1)">
      <x class="gui-extra" >&#xf0ed; Save</x>
    </cbr>

</face>


<face id="incidentCaptureStep2" controller="_incidentCapture.Ctrl2">
    <ctl>Adding an Incident record - 2/4</ctl>
    <ctr></ctr>
    <content>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Person Reporting</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
		              <input type="Text" ng-model="common.text" />
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident reported to</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
                 <select ng-model="model.usersSelect" ng-options="user.name for user in model.users" ></select>
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Where incident occurred</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
                  <select ng-model="dropDownItem">
                  <option value="">Please Select Location</option>
                  <option value="1">To the Left</option>
                  <option value="2">To the Right</option>
                  <option value="3">Right Here</option>
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Specific location</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
		              <input type="Text" ng-model="common.text" />
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br/>
    </content>
    <cbl>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf053;</x>
      <x class="txtTitle" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Back</x>
    </cbl>
    <cbr onClick="_incidentCapture.save(2)">
      <x class="gui-extra" >&#xf0ed; Save</x>
    </cbr>
</face>

<face id="incidentCaptureStep3" face="back">
    <ctl>Adding an Incident record - 3/4</ctl>
    <ctr></ctr>
    <content>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Risk discipline (Nature of the impact)</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
		              <input type="checkbox" ng-model="common.checkbox.bike" value="1"/> Risk Discipline 1
                  <br>
      					  <input type="checkbox" ng-model="common.checkbox.car" value="2"/> Risk Discipline 2
                  <br>
                  <input type="checkbox" ng-model="common.checkbox.plane" value="3"/> Risk Discipline 3
                  <br>
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br />
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident category / sub category</td>
          </tr>
           <tr>
            <td colspan="2" class="cardFormElementContent">
              <div  class="cardInlay">
               <ul>
		        <li class="cardListElement">
		         <table>
		          <tr>
		            <td align="right">
		              <input type="checkbox" ng-model="common.checkbox.bike" value="1"/> Incident Category 1
                  <br>
      					  <input type="checkbox" ng-model="common.checkbox.car" value="2"/> Incident Category 2
                  <br>
                  <input type="checkbox" ng-model="common.checkbox.plane" value="3"/> Incident Category 3
                  <br>
		            </td>
		          </tr>
		         </table>
		        </li>
		       </ul>
              </div>
             </td>
           </tr>
      </table><br />
    </content>
      <cbl>
        <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf053;</x>
        <x class="txtTitle" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Back</x>
      </cbl>
      <cbr>
        <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf0ed;</x>
        <x onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Save</x>
      </cbr>
</face>

<face id="incidentCaptureStep4" controller="_incidentCapture.Ctrl4">
    <ctl>Adding an Incident record - 4/4</ctl>
    <ctr></ctr>
    <content>

<div id="listContainer2">
  <ul id="expList2" class="gui-extra">
    <li class="gui-extra" >Item A <x>&#xf067;</x>
      <ul>
        <li>Item A.1 <x>&#xf067;</x>
          <ul>
            <li>
              <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sagittis ultricies arcu, quis porttitor risus placerat et. Proin quis metus diam, quis sbibendum dolor. Nulla nec dapibus nunc. Quisque ac erat sit amet nisl venenatis consequat nec in nibh. Aliquam viverra vestibulum elit faucibus sollicitudin.</span>
            </li>
          </ul>
        </li>
        <li>Item A.2</li>
        <li>Item A.3
          <ul>
            <li>
              <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sagittis ultricies arcu, quis porttitor risus placerat et. Proin quis metus diam, quis bibendum dolor. Nulla nec dapibus nunc. Quisque ac erat sit amet nisl venenatis consequat nec in nibh. Aliquam viverra vestibulum elit faucibus sollicitudin.</span>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Item B</li>
    <li>Item C
      <ul>
        <li>Item C.1</li>
        <li>Item C.2
          <ul>
            <li>
              <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sagittis ultricies arcu, quis porttitor risus placerat et. Proin quis metus diam, quis bibendum dolor. Nulla nec dapibus nunc. Quisque ac erat sit amet nisl venenatis consequat nenibh. Aliquam viverra vestibulum elit faucibus sollicitudin.</span>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>
<br>
    
<div id="listContainer">
  <ul id="expList" class="gui-extra">
    <div ng-include="'partialMenu'" ng-init="sites = model.sites"></div>
  </ul>
</div>

    <script type="text/ng-template" id="partialMenu">
      <ul>
        <li ng-repeat="site in sites">
          {{site.Site}}
          <div ng-switch on="site.children != null">
            <div ng-switch-when="true">
              <div ng-init="sites = site.children" ng-include="'partialMenu'"></div>
            </div>
          </div>
        </li>
      </ul>
    </script>



    </content>
    <cbl>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf053;</x>
      <x class="txtTitle" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Back</x>
    </cbl>
    <cbr>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">&#xf0ed;</x>
      <x onClick="_incidentCapture.FlipCard('incidentCaptureFront',false)">Save</x>
    </cbr>
</face>

<face id="incidentCaptureComplete" face="back">
    <ctl>Adding an Incident record</ctl>
    <ctr></ctr>
    <content>
        <placeholder>
              Incident has been captured and added to the job Queue
        </placeholder>
    </content>
    <cbl>
      <x class="gui-extra" onClick="_incidentCapture.FlipCard('incidentCaptureStep4',false)">&#xf053;</x>
      <x class="txtTitle" onClick="_incidentCapture.FlipCard('incidentCaptureStep4',false)">Back</x>
    </cbl>
    <cbr>
      <x onclick="_incidentCapture.submitToQueue()" class="gui-extra">&#xf0ed;</x>
      <x onclick="_incidentCapture.submitToQueue()">Save</x>
    </cbr>
</face>

</card>
<card id="incidentSteps" fill="true" >

<face id="incidentStepsFront" settings="default:true" controller="_incidentSteps.Ctrl">
    <ctl></ctl>
    <ctr></ctr>
    <content>
      <ul>
       <li class="cardListElement">
         <table class="f20">
          <tr onClick="layout.sendMessage('incidentCapture','1',false);">
            <td class="gui-extra">&#xf044;
              <x class="txtTitle" >Step 1</x><br/>
            </td>
          </tr>
          <tr onClick="layout.sendMessage('incidentCapture','2',false);">
            <td class="gui-extra">&#xf044;
              <x class="txtTitle" >Step 2</x><br/>
            </td>
          </tr>
          <tr onClick="layout.sendMessage('incidentCapture','3',false);">  
            <td class="gui-extra">&#xf044;
              <x class="txtTitle" >Step 3</x><br/>
            </td>
          </tr>
          <tr onClick="layout.sendMessage('incidentCapture','4',false);">
            <td class="gui-extra">&#xf044;
              <x class="txtTitle">Step 4</x><br/>
            </td>
          </tr>
         </table>
        </li>
      </ul>
    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>
</card>
<card id="landing" fill="true" >

<face id="landingFront" settings="default:true" controller="_landing.Ctrl">
    <ctl></ctl>
    <ctr></ctr>
    <content>
      <ul>
       <li class="cardListElement">
         <div style="float: left; width: 50%">
           <table class="f20">
            <tr>
              <td class="gui-extra" onClick="layout.show('IncidentCapture');">&#xf044;
                <x class="txtTitle" >Add Incident</x><br/>
                <x class="cardListElementSubText">Create a new incident report</x>
              </td>
            </tr>
            <tr>
              <td class="gui-extra" onClick="layout.show('help');">&#xf059;
                <x class="txtTitle">Help</x><br/>
                <x class="cardListElementSubText">Frequently asked questions</x>
              </td>
            </tr>
            <tr>
              <td class="gui-extra" onClick="app.doLogout();">&#xf08b;
                <x class="txtTitle">Logout</x><br/>
                <x class="cardListElementSubText">Log out of your current session</x>
              </td>
            </tr>
           </table>
         </div>
         <div style="float: right; width: 50%">
           <table>
             <tr>
               <td>
                 <img src="../www/img/logomain.png">
               </td>
             </tr>
           </table>
         </div>
        </li>
      </ul>
    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>
</card>
<card id="logo" fill="true" flip="rl">

<face id="logoFront" settings="default:true" controller="_logo.Ctrl">
    <ctl></ctl>
    <ctr></ctr>
    <content>
      <table width=100%>
        <tr>
          <td>
            <img src="../www/img/logomain.png" align="middle">
          </td>
        </tr>
      </table>

    </content>
    <cbl></cbl>
    <cbr></cbr>

</face>

</card>
<ul>
    <li ng-repeat="link in submenu">
      <a href="{{link.url}}">{{link.text}}</a>
      <div ng-switch on="link.submenu.length &gt; 0">
        <div ng-switch-when="true">
          <div ng-init="submenu = link.submenu;" ng-include="'partialMenu.html'"></div>  
        </div>
      </div>
    </li>
</ul><card id="reportHistory" fill="true" flip="rl">

<face id="helpFront" settings="default:true" controller="_reportHistory.Ctrl">
    <ctl>Help</ctl>
    <ctr></ctr>
    <content>
      <ul>
        <li class="cardListElement">
          <table>
            <tr>
              <td class="txtTitle" flip-target="topic1">Help Topic 1<br /><x class="cardListElementSubText">The first topic in the help.</x></td>
            </tr>
          </table>
        </li>
        <li class="cardListElement">
          <table>
            <tr>
              <td class="txtTitle" flip-target="topic2">Help Topic 2<br /><x class="cardListElementSubText">The second topic in the help.</x></td>
            </tr>
          </table>
        </li>
      </ul>
    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>


<face id="topic1" face="back">

    <ctl>Help Topic 1</ctl>
    <ctr class="gui" flip-target="close">x</ctr>
    <content>

        <placeholder>
              This is help section one - and provides the user with information relevant to the first help topic.
        </placeholder>


    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>

<face id="topic2" face="back">

    <ctl>Help Topic 2</ctl>
    <ctr class="gui" flip-target="close">x</ctr>
    <content>

        <placeholder>
              This is help section two - and provides the user with information relevant to the second help topic.
        </placeholder>


    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>

</card>
<card id="showControls" fill="true" flip="rl">

  <face id="showControlsFront" settings="default:true" controller="_showControls.getAll">
    <ctl>Controls for Incident Management</ctl>
    <ctr class="gui-extra" flip-target="showControlsHelp">&#xf059;</ctr>
    <content>
      <placeholder ng-show="data.length == 0"> No Data</placeholder>
      <form>
        <x >
          <div ng-repeat="control in controls">
            <x ng-if="control.AddVisible">
              <!--  This section is if the control is a parent-->
              <x ng-if="control.ParentControl == null">
                <label class="txtTitle" >{{control.ModuleDefinitionLabel}}</label>
                <x ng-switch="control.ModuleDefinitionType">

                  <x ng-switch-when="Textbox"></br><input type="text" ng-model="control.value"  /></x>

                  <x ng-switch-when="Text Area"></br><textarea  ng-model="control.value" rows="5" width=100%></textarea></x>

                  <x ng-switch-when="Dropdown">
                  </br>
                  <select ng-model="control.value" ng-options="value.SourceList for value in control.controlValues" ng-show="{{value.HierarchyLevel}}==1">
                    <option value="">--- Please Select an Option ---</option>
                  </select>
                </x>

                <x ng-switch-when="Checkbox List">
                  <div ng-repeat="value in control.controlValues">
                      <input type="checkbox" ng-model="value.isChecked"/>
                      <label>{{value.SourceList}}</label>
                      <x ng-if="value.HasChild">
                        <div ng-repeat="child1 in value.Children">
                          <x class="gui-extra">&#xf054;</x><input ng-hide type="checkbox" ng-model="child1.isChecked"/>
                          <label>{{child1.SourceList}}</label>
                          <x ng-if="child1.HasChild">
                            <div ng-repeat="child2 in child1.Children">
                              <x class="gui-extra">&#xf054;</x><x class="gui-extra">&#xf054;</x><input ng-hide type="checkbox" ng-model="child2.isChecked"/>
                              <label>{{child2.SourceList}}</label>
                            </x>
                          </div>
                        </div>
                      </x>
                  </div>
                </x>

                <x ng-switch-when="Calendar">
                  <input type="date" ng-model="control.value"/>
                </x>

                <x ng-switch-default><input type="{{control.ControlType}}" ng-model="control.value"  required/></x>
              </x>
            </x>

            <!--  This section is if the control is a Child-->
            <x ng-if="control.ParentControl != null">
              <label class="txtTitle" >{{control.ModuleDefinitionLabel}}</label>
              <x ng-switch="control.ModuleDefinitionType">

                <x ng-switch-when="Textbox"></br><input type="text" ng-model="control.value"  /></x>

                <x ng-switch-when="Text Area"></br><textarea  ng-model="control.value" rows="5" width=100%></textarea></x>

                <x ng-switch-when="Dropdown">
                </br>
                <select ng-model="control.value" ng-options="value.SourceList for value in control.controlValues" ng-show="{{value.HierarchyLevel}}==1">
                  <option value="">--- Please Select an Option ---</option>
                </select>
              </x>

              <x ng-switch-when="Checkbox List">
                <div ng-repeat="value in control.controlValues">
                  <x  ng-show="isControlValueChecked(control.ParentControl,value.SourceList);">
                    <input type="checkbox" ng-model="value.isChecked"/>
                    <label>{{value.SourceList}}</label>
                    <x ng-if="value.HasChild">
                      <div ng-repeat="child1 in value.Children">
                        <x class="gui-extra">&#xf054;</x><input ng-hide type="checkbox" ng-model="child1.isChecked"/>
                        <label>{{child1.SourceList}}</label>
                        <x ng-if="child1.HasChild">
                          <div ng-repeat="child2 in child1.Children">
                            <x class="gui-extra">&#xf054;</x><x class="gui-extra">&#xf054;</x><input ng-hide type="checkbox" ng-model="child2.isChecked"/>
                            <label>{{child2.SourceList}}</label>
                          </x>
                        </div>
                      </div>
                    </x>
                  </x>
                </div>
              </x>

              <x ng-switch-when="Calendar">
                <input type="date" ng-model="control.value"/>
              </x>

              <x ng-switch-default><input type="{{control.ControlType}}" ng-model="control.value"  required/></x>
            </x>
          </x>

          </x>
        </div>
      </x>

    </form>
  </content>
  <cbl></cbl>
  <cbr onClick="_showControls.sendJob(this,'New Incident','New Incident logged',false,false);">Submit Incident</cbr>
</face>


<face id="showControlsHelp" face="back">
  <ctl>HELP</ctl>
  <ctr class="gui" flip-target="close">x</ctr>
  <content>
    <placeholder>
      This is a blank help section.
    </placeholder>
  </content>
  <cbl></cbl>
  <cbr></cbr>
</face>

</card>
<!DOCTYPE html>
<html ng-app="angularjs-starter">

  <head lang="en">
    <title>Recursive ng-include</title>
    <script data-require="angular.js@*" data-semver="1.2.3" src="http://code.angularjs.org/1.2.3/angular.js"></script>
  </head>

  <body ng-controller="MainCtrl">
  
    <h1>Recursive ng-include</h1>
    For <a href="http://stackoverflow.com/a/14814205/1402988">http://stackoverflow.com/a/14814205/1402988</a>:
        <hr />

    <div ng-include="'partialMenu'"></div>

    <script type="text/ng-template" id="partialMenu">
      <ul>
        <li ng-repeat="link in menu">
          <a href="{{link.url}}">{{link.text}}</a>
          <div ng-switch on="link.submenu != null">
            <div ng-switch-when="true">
              <div ng-init="menu = link.submenu" ng-include="'partialMenu'"></div>
            </div>
          </div>
        </li>
      </ul>
    </script>

    <script>
      angular
      .module('angularjs-starter', [])
      .controller('MainCtrl', function($scope) {
        $scope.menu = [
            {
                text: 'Menu Item 1',
                url: '#',
                submenu: [
                    {
                        text: 'Sub-menu Item 7',
                        url: '#',
                    }
                ]
            },{
                text: 'Menu Item 2',
                url: '#',
                submenu: [
                    {
                        text: 'Sub-menu Item 3',
                        url: '#',
                    },{
                        text: 'Sub-menu Item 4',
                        url: '#',
                        submenu: [
                            {
                                text: 'Sub-sub-menu Item 5',
                                url: '#',
                            },{
                                text: 'Sub-sub-menu Item 6',
                                url: '#',
                            }
                        ]
                    }
                ]
            },{
                text: 'Menu Item 3',
                url: '#',
            }
        ];
      });
    </script>
  </body>

</html>
