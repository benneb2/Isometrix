<card id="reportHistory" fill="true" flip="rl">
<face id="historyFront" settings="default:true;scrollbars:true" controller="_reportHistory.Ctrl">
    <ctl>History</ctl>
    <ctr>{{model.length}} Incidents</ctr>
    <content>
      <div align="center">
        <ul>
          <li class="cardListElement" ng-repeat="item in model" >
            <table class="cardFormList" width="100%">
              <tr >
                <td width="50" ng-click="getDetails($index)">
                  Status: {{item.status}} <x ng-show="item.ID != ''"> ID: {{item.ID}}</x>
                </td>
              </tr>
              <tr >
                <td width="50" ng-click="getDetails($index)">
                  Desription: {{item.description}}
                </td>
                <td align="right" class="gui-extra" style="padding:20px" ng-click="delete($index)">
                  <x>&#xf00d;</x>
                </td>
              </tr>
              <tr>
                <td ng-click="getDetails($index)">
                  Time: {{item.date}}:{{item.time}} 
                </td>
              </tr>
            </table>
          </li>
        </ul>
      </div>
    </content>
    <cbl ng-click="refresh()">Refresh</cbl>
    <cbr></cbr>
</face>
<face id="historyDetails" controller="_reportHistory.detailCtrl">
    <ctl>Detail History</ctl>
    <ctr class="gui" flip-target="close">x</ctr>
    <content >
        <div align="center">
        <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident description</td>
          </tr>
           <tr>
                <td align="right">
                  <input style="background: #E6E6E6;" type="Text" ng-model="model.description" disabled/>
                </td>
              </tr>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident status</td>
          </tr>
           <tr>
            <td align="right">
              <input style="background: #E6E6E6;" type="Text" ng-model="model.incidentStatusSelectString" disabled/>
            </td>
         </td>
       </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Date incident occurred</td>
          </tr>
           <tr>
              <td align="right">
                <input style="background: #E6E6E6;" type="Text" ng-model="model.date"  disabled/>
              </td>
           </tr>
      </table><br/>
          <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Time incident occurred</td>
          </tr>
           <tr>
                <td align="right">
                  <input style="background: #E6E6E6;" type="Text" ng-model="model.time" disabled/>
                </td>
           </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Person Reporting</td>
          </tr>
           <tr>
                <td align="right">
                  <input style="background: #E6E6E6;" type="Text" ng-model="model.person" disabled/>
                </td>
           </tr>
      </table><br/>
            <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident reported to</td>
          </tr>
           <tr>
                <td align="right">
                 <input style="background: #E6E6E6;" type="Text" ng-model="model.userSelectString" disabled/>
                </td>

           </tr>
     </table><br/>

      <table class="cardFormContainer " cellspacing='0' cellpadding='0' id="siteTable" >
          <tr>
             <td class="cardFormElementTitle">Where incident occurred </td>
          </tr>
           <tr >
            <td>
              <div>
            <div id="test-scroll" style="background: #E6E6E6;;">
            <div style="background: #E6E6E6;;display: inline-block" ><x style="background: #E6E6E6;;" id="sitePath" >{{model.sitePath}}</x>
            </div>
            </div>
          </div>
             </td>
           </tr>
      </table><br/>


      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Specific location</td>
          </tr>
           <tr>
                <td align="right">
                  <input style="background: #E6E6E6;" type="Text" ng-model="model.location" disabled/>
                </td>
           </tr>
      </table><br/>

      <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Risk discipline (Nature of the impact)</td>
          </tr>
          <tr>
            <td>
            <table class="histBlock" >
              <tr ng-repeat="item in model.viewSelect" >
                <td style="text-transform: none;font-size: 14pt;padding:10px">
                  <x style="color: #333;font-family: roboto_con, sans-serif;">{{item}}</x>
                </td>
              </tr>
            </table>
          </td>
          </tr>
      </table>
      <br/>
            <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">Incident category / sub category</td>
          </tr>
          <tr>
            <td>
            <table class="histBlock" >
              <tr ng-repeat="item in model.category" >
                <td style="text-transform: none;font-size: 14pt;padding:10px">
                  <x style="color: #333;font-family: roboto_con, sans-serif;">{{item.SourceList}}</x>
                </td>
              </tr>
            </table>
          </td>
          </tr>
      </table><br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0' >
          <tr>
             <td class="cardFormElementTitle">Immediate action taken with reason for action taken</td>
          </tr>
           <tr>
            <td >
                 <textarea style="background: #E6E6E6;" name="Text1" cols="40" rows="5" ng-model="model.action" disabled></textarea>
             </td>
           </tr>
      </table>
      <br/>
      <table class="cardFormContainer" cellspacing='0' cellpadding='0' >
          <tr>
             <td class="cardFormElementTitle">External party involved?</td>
          </tr>
           <tr>
            <td >
                <input style="background:#E6E6E6;" type="Text" ng-model="model.externalString" disabled/>
             </td>
           </tr>
      </table>
    <br />
    <table class="cardFormContainer" cellspacing='0' cellpadding='0'>
          <tr>
             <td class="cardFormElementTitle">External party</td>
          </tr>
          <tr>
            <td>
            <table class="histBlock">
              <tr ng-repeat="item in model.externalList" >
                <td style="text-transform: none;font-size: 14pt;padding:10px">
                  <x style="color: #333;font-family: roboto_con, sans-serif;">{{item.SourceList}}</x>
                </td>
              </tr>
            </table>
          </td>
          </tr>
      </table><br/>
    </div>
    </content>
    <cbl></cbl>
    <cbr></cbr>
</face>
</card>
